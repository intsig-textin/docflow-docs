---
title: "å¿«é€Ÿå¯åŠ¨"
description: "å‚è€ƒç¤ºä¾‹ï¼Œå¿«é€Ÿç”¨APIé›†æˆæ–‡æ¡£æ‹†åˆ†åŠŸèƒ½"
---

## åŠŸèƒ½æ¦‚è§ˆ

æ–‡æ¡£æ‹†åˆ†å¯ä»¥å¤„ç†ä¸€ä¸ªå¤šé¡µæ–‡ä»¶ä¸­åŒ…å«å¤šç§ä¸åŒåˆ†ç±»çš„æ–‡æ¡£ã€æˆ–åœ¨ä¸€é¡µä¸Šé“ºè´´å¤šä¸ªç¥¨æ®çš„åœºæ™¯ã€‚

æ–‡æ¡£æ‹†åˆ†åŒ…æ‹¬ä¸¤ç±»èƒ½åŠ›ï¼š**æ–‡ä»¶æ‹†åˆ†**(split)å’Œ**å¤šå›¾åˆ‡åˆ†**(crop)

### æ–‡ä»¶æ‹†åˆ†

è‡ªåŠ¨æ‹†åˆ†é•¿æ–‡æ¡£ä¸ºå•é¡µæˆ–å­æ–‡æ¡£ã€‚

ä½¿ç”¨åœºæ™¯ï¼š

1. åŒ»ç–—ä¿é™©ç†èµ”åœºæ™¯ï¼Œä¸€ä»½å¤šé¡µæ–‡ä»¶ï¼Œåœ¨ç¬¬1-2é¡µæ˜¯ä¿å•ï¼Œç¬¬3-5é¡µæ˜¯å‘ç¥¨ï¼Œç¬¬6-10é¡µæ˜¯ä½é™¢è®°å½•ã€‚
2. ç‰©æµè¿›å‡ºå£åœºæ™¯ï¼Œç¬¬1é¡µæ˜¯å‡ºå£æŠ¥å…³å•ï¼Œç¬¬2é¡µæ˜¯å‘ç¥¨ï¼Œç¬¬3é¡µæ˜¯è£…ç®±å•(packing list)ï¼Œç¬¬4é¡µæ˜¯é”€å”®åˆåŒã€‚

> ğŸ“– **è¯¦ç»†è¯´æ˜**ï¼šæŸ¥çœ‹[æ–‡ä»¶æ‹†åˆ†åŠŸèƒ½è¯¦ç»†æ–‡æ¡£](./split)äº†è§£æ›´å¤šä½¿ç”¨åœºæ™¯ã€APIå‚æ•°å’Œç¤ºä¾‹ä»£ç ã€‚

### å¤šå›¾åˆ‡åˆ†

ç”¨äºä¸€é¡µåŒ…å«å¤šå¼ ç‹¬ç«‹ç¥¨æ®æ—¶çš„åˆ‡åˆ†ã€‚

ä½¿ç”¨åœºæ™¯ï¼š

1. æŠ¥é”€è´´å‘ç¥¨çš„åœºæ™¯ï¼Œä¸€å¼ A4çº¸ä¸Šå¹³é“ºè´´æœ‰ç«è½¦ç¥¨ã€é£æœºè¡Œç¨‹å•ã€å¤šä¸ªå‡ºç§Ÿè½¦å‘ç¥¨

> ğŸ“– **è¯¦ç»†è¯´æ˜**ï¼šæŸ¥çœ‹[å¤šå›¾åˆ‡åˆ†åŠŸèƒ½è¯¦ç»†æ–‡æ¡£](./crop)äº†è§£æ›´å¤šä½¿ç”¨åœºæ™¯ã€APIå‚æ•°å’Œç¤ºä¾‹ä»£ç ã€‚

é€šè¿‡æ–‡ä»¶æ‹†åˆ†å’Œå¤šå›¾åˆ‡åˆ†ï¼Œå°†æ–‡ä»¶ä¸­ä¸åŒçš„æ–‡ä»¶åˆ†ç±»æ‹†åˆ†å‡ºæ¥ï¼Œå¯ä»¥å¸®åŠ©åç»­çš„æŠ½å–æµç¨‹æ›´ç²¾ç¡®åœ°æå–å„ç±»æ–‡ä»¶çš„ä¿¡æ¯ã€‚


## åŠŸèƒ½å¯ç”¨å‚æ•°

æ–‡ä»¶æ‹†åˆ†å’Œå¤šå›¾åˆ‡åˆ†åŠŸèƒ½é»˜è®¤å…³é—­ã€‚  
ä¸Šä¼ æ¥å£ä¸­ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°æ§åˆ¶æ˜¯å¦å¯ç”¨æ–‡ä»¶æ‹†åˆ†å’Œåˆ‡åˆ†åŠŸèƒ½ï¼š

- `split_flag` æ˜¯å¦è¿›è¡Œæ–‡ä»¶æ‹†åˆ†ï¼Œé»˜è®¤ `false`
- `crop_flag` æ˜¯å¦è¿›è¡Œå¤šå›¾åˆ‡åˆ†ï¼Œé»˜è®¤ `false`

æ–‡ä»¶æ‹†åˆ†å’Œå¤šå›¾åˆ‡åˆ†åŠŸèƒ½å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œä¾‹å¦‚åªå¯ç”¨æ–‡ä»¶æ‹†åˆ†æˆ–åªå¯ç”¨å¤šå›¾åˆ‡åˆ†ï¼Œæˆ–è€…åŒæ—¶å¯ç”¨æ–‡ä»¶æ‹†åˆ†å’Œå¤šå›¾åˆ‡åˆ†ã€‚

è¯·æ±‚ç¤ºä¾‹ï¼š

<CodeGroup>

```bash curl icon=terminal wrap
curl -X POST \
  -H "x-ti-app-id: <your-app-id>" \
  -H "x-ti-secret-code: <your-secret-code>" \
  -F "file=@/path/to/long.pdf" \
  "https://docflow.textin.ai/api/app-api/sip/platform/v2/file/upload?workspace_id=<your-workspace-id>&split_flag=true"
```

</CodeGroup>

## æŸ¥è¯¢æ‹†åˆ†ç»“æœ

ä½¿ç”¨ `file/fetch` æŸ¥è¯¢ã€‚å“åº”ä¸­çš„ `child_files` å­—æ®µç”¨äºæè¿°å­ä»»åŠ¡ä¿¡æ¯ï¼š

```bash curl icon=terminal wrap
curl \
  -H "x-ti-app-id: <your-app-id>" \
  -H "x-ti-secret-code: <your-secret-code>" \
  "https://docflow.textin.ai/api/app-api/sip/platform/v2/file/fetch?workspace_id=<your-workspace-id>&batch_number=<your-batch-number>"
```

è¿”å›ç»“æ„å…³é”®å­—æ®µåŒ…æ‹¬ï¼š

- `files[].child_files[]`: å­ä»»åŠ¡åˆ—è¡¨ï¼ˆå½“æ‹†åˆ†æˆ–åˆ‡å›¾æ—¶å­˜åœ¨ï¼‰

å…¶ä¸­`files[].child_files[].task_type`è¡¨ç¤ºè¯¥æ‹†åˆ†ä»»åŠ¡ç±»å‹ï¼š
- `task_type=0`ï¼Œè¡¨ç¤ºè¯¥å­æ–‡ä»¶ç”±æ–‡ä»¶æ‹†åˆ†äº§ç”Ÿ
- `task_type=3`ï¼Œè¡¨ç¤ºè¯¥å­æ–‡ä»¶æœ‰å¤šå›¾åˆ‡åˆ†äº§ç”Ÿ

å½“æ–‡ä»¶ç”±å¤šå›¾åˆ‡åˆ†äº§ç”Ÿæ—¶ï¼Œå­—æ®µ`child_files[].from_parent_position_list`è¡¨ç¤ºåˆ‡å›¾ç»“æœåœ¨åŸå›¾ä¸­çš„åæ ‡ã€‚åæ ‡çš„è¡¨ç¤ºå¯ä»¥å‚è€ƒ[åæ ‡ç³»è¯´æ˜](../03-parse/coordinate)ã€‚

### è¿”å›ç¤ºä¾‹ï¼ˆèŠ‚é€‰ï¼‰

```json expandable
{
  "code": 200,
  "result": {
    "files": [
      {
        "id": "parent-001",
        "name": "multi-photo.pdf",
        "child_files": [
          {
            "id": "child-001",
            "task_id": "t-1",
            "task_type": 0,
            "name": "multi-photo.pdf#1",
            "format": "pdf",
            "category": "invoice",
            "from_parent_position_list": [12, 30, 420, 30, 420, 320, 12, 320]
          }
        ],
      }
    ]
  }
}
```
